#include <stdio.h>

void addPolynomials(int p1[], int deg1, int p2[], int deg2, int result[]) {
    int maxDeg = deg1 > deg2 ? deg1 : deg2;

    for (int i = 0; i <= maxDeg; i++) {
        result[i] = 0;
    }

    for (int i = 0; i <= deg1; i++) {
        result[i] += p1[i];
    }

    for (int i = 0; i <= deg2; i++) {
        result[i] += p2[i];
    }
}

void printPolynomial(int poly[], int degree) {
    int first = 1; 

    for (int i = degree; i >= 0; i--) {
        if (poly[i] == 0) 
	continue;

        if (!first) {
            if (poly[i] > 0)
                printf(" + ");
            else
                printf(" - ");
        } else {
            if (poly[i] < 0)
                printf("-");
            first = 0;
        }

        int coeff = poly[i] < 0 ? -poly[i] : poly[i];

        if (i == 0)
            printf("%d", coeff);
        else if (i == 1)
            printf("%dx", coeff);
        else
            printf("%dx^%d", coeff, i);
    }

    if (first) // If all coefficients were zero
        printf("0");

    printf("\n");
}

int main() {
    int deg1, deg2;

    printf("Enter degree of first polynomial: ");
    scanf("%d", &deg1);

    int p1[deg1 + 1];
    printf("Enter coefficients of first polynomial from x^0 to x^%d:\n", deg1);
    for (int i = 0; i <= deg1; i++) {
        printf("Coefficient for x^%d: ", i);
        scanf("%d", &p1[i]);
    }

    printf("\nEnter degree of second polynomial: ");
    scanf("%d", &deg2);

    int p2[deg2 + 1];
    printf("Enter coefficients of second polynomial from x^0 to x^%d:\n", deg2);
    for (int i = 0; i <= deg2; i++) {
        printf("Coefficient for x^%d: ", i);
        scanf("%d", &p2[i]);
    }

    int maxDeg = deg1 > deg2 ? deg1 : deg2;
    int result[maxDeg + 1];

    addPolynomials(p1, deg1, p2, deg2, result);

    printf("\nFirst polynomial: ");
    printPolynomial(p1, deg1);

    printf("Second polynomial: ");
    printPolynomial(p2, deg2);

    printf("Sum of polynomials: ");
    printPolynomial(result, maxDeg);

    return 0;
}
